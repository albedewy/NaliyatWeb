<nav class="top-nav">
  <div class="nav-brand">
    <a routerLink="/" class="brand-link">
      <img src="/assets/images/logo/naqliyat-logo.png" alt="Naqliyat" class="brand-logo" />
      <span class="brand-name">{{ '::AppName' | abpLocalization }}</span>
    </a>
  </div>

  <div class="nav-links">
    @for (link of navLinks; track link.path) {
      @if (isLinkVisible(link)) {
        <a [routerLink]="link.path" routerLinkActive="active" [routerLinkActiveOptions]="{exact: link.path === '/'}" class="nav-link">
          <i class="fa {{ link.icon }}"></i>
          <span>{{ link.label | abpLocalization }}</span>
        </a>
      }
    }
  </div>

  <div class="nav-actions">
    @if (isAuthenticated) {
      @if (!hasRoles) {
        <a routerLink="/registration" class="btn-register">
          <i class="fa fa-user-plus"></i>
          {{ '::Nav:CompleteRegistration' | abpLocalization }}
        </a>
      }
      <div class="user-menu">
        <span class="user-name">
          <i class="fa fa-user-circle"></i>
          {{ currentUserName }}
        </span>
        <div class="lang-switcher">
          <button 
            class="lang-btn" 
            [class.active]="currentLang === 'en'" 
            (click)="switchLanguage('en')">
            EN
          </button>
          <button 
            class="lang-btn" 
            [class.active]="currentLang === 'ar'" 
            (click)="switchLanguage('ar')">
            AR
          </button>
        </div>
        <button class="btn-logout" (click)="logout()">
          <i class="fa fa-sign-out"></i>
          {{ '::Nav:Logout' | abpLocalization }}
        </button>
      </div>
    } @else {
      <div class="lang-switcher">
        <button 
          class="lang-btn" 
          [class.active]="currentLang === 'en'" 
          (click)="switchLanguage('en')">
          EN
        </button>
        <button 
          class="lang-btn" 
          [class.active]="currentLang === 'ar'" 
          (click)="switchLanguage('ar')">
          AR
        </button>
      </div>
      <button class="btn-login" (click)="login()">
        <i class="fa fa-sign-in"></i>
        {{ '::Nav:Login' | abpLocalization }}
      </button>
    }
  </div>
</nav>
