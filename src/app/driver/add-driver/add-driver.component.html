<div class="add-driver-container">
  <div class="back-link">
    <a routerLink="/driver/list">
      <i class="fa fa-arrow-left"></i> {{ '::Driver:BackToMyDrivers' | abpLocalization }}
    </a>
  </div>

  <div class="form-card">
    <div class="card-header">
      <div class="header-icon">
        <i class="fa fa-user-plus"></i>
      </div>
      <div>
        <h1>{{ '::Driver:AddNewDriver' | abpLocalization }}</h1>
        <p>{{ '::Driver:AddDriverSubtitle' | abpLocalization }}</p>
      </div>
    </div>

    @if (errorMessage) {
      <div class="alert alert-danger">
        <i class="fa fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>
    }

    <form [formGroup]="driverForm" (ngSubmit)="onSubmit()">
      <div class="form-section">
        <h3><i class="fa fa-user"></i> {{ '::Driver:PersonalInformation' | abpLocalization }}</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="name">{{ '::RegisterDriver:FullName' | abpLocalization }} <span class="required">*</span></label>
            <input
              type="text"
              id="name"
              formControlName="name"
              [placeholder]="'::Driver:FullNamePlaceholder' | abpLocalization"
              [class.is-invalid]="isFieldInvalid('name')"
            />
            @if (isFieldInvalid('name')) {
              <span class="error-message">{{ '::Driver:NameRequired' | abpLocalization }}</span>
            }
          </div>
          <div class="form-group">
            <label for="phone">{{ '::RegisterOwner:PhoneNumber' | abpLocalization }} <span class="required">*</span></label>
            <input
              type="tel"
              id="phone"
              formControlName="phone"
              [placeholder]="'::RegisterOwner:PhonePlaceholder' | abpLocalization"
              [class.is-invalid]="isFieldInvalid('phone')"
            />
            @if (isFieldInvalid('phone')) {
              <span class="error-message">{{ '::Driver:PhoneRequired' | abpLocalization }}</span>
            }
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="identification">{{ '::Driver:IDNumber' | abpLocalization }} <span class="required">*</span></label>
            <input
              type="text"
              id="identification"
              formControlName="identification"
              [placeholder]="'::Driver:IDNumberPlaceholder' | abpLocalization"
              [class.is-invalid]="isFieldInvalid('identification')"
            />
            @if (isFieldInvalid('identification')) {
              <span class="error-message">{{ '::Driver:IDNumberRequired' | abpLocalization }}</span>
            }
          </div>
          <div class="form-group">
            <label for="nationalityId">{{ '::RegisterOwner:Nationality' | abpLocalization }} <span class="required">*</span></label>
            <select
              id="nationalityId"
              formControlName="nationalityId"
              [class.is-invalid]="isFieldInvalid('nationalityId')"
            >
              <option [ngValue]="1">{{ '::Country:SaudiArabia' | abpLocalization }}</option>
              <option [ngValue]="2">{{ '::Country:Egypt' | abpLocalization }}</option>
              <option [ngValue]="3">{{ '::Country:Pakistan' | abpLocalization }}</option>
              <option [ngValue]="4">{{ '::Country:India' | abpLocalization }}</option>
              <option [ngValue]="5">{{ '::Country:Bangladesh' | abpLocalization }}</option>
              <option [ngValue]="6">{{ '::Country:Philippines' | abpLocalization }}</option>
              <option [ngValue]="7">{{ '::Country:Yemen' | abpLocalization }}</option>
              <option [ngValue]="8">{{ '::Country:Syria' | abpLocalization }}</option>
              <option [ngValue]="9">{{ '::Country:Jordan' | abpLocalization }}</option>
              <option [ngValue]="10">{{ '::Country:Other' | abpLocalization }}</option>
            </select>
            @if (isFieldInvalid('nationalityId')) {
              <span class="error-message">{{ '::Driver:NationalityRequired' | abpLocalization }}</span>
            }
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3><i class="fa fa-id-card"></i> {{ '::Driver:LicenseInformation' | abpLocalization }}</h3>
        
        <div class="form-group">
          <label for="licenseNumber">{{ '::RegisterDriver:DrivingLicenseNumber' | abpLocalization }} <span class="required">*</span></label>
          <input
            type="text"
            id="licenseNumber"
            formControlName="licenseNumber"
            [placeholder]="'::Driver:LicenseNumberPlaceholder' | abpLocalization"
            [class.is-invalid]="isFieldInvalid('licenseNumber')"
          />
          @if (isFieldInvalid('licenseNumber')) {
            <span class="error-message">{{ '::Driver:LicenseNumberRequired' | abpLocalization }}</span>
          }
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn-cancel" routerLink="/driver/list">
          {{ '::Trip:Cancel' | abpLocalization }}
        </button>
        <button type="submit" class="btn-submit" [disabled]="isSubmitting">
          @if (isSubmitting) {
            <i class="fa fa-spinner fa-spin"></i> {{ '::Driver:Adding' | abpLocalization }}
          } @else {
            <i class="fa fa-plus"></i> {{ '::Driver:AddDriver' | abpLocalization }}
          }
        </button>
      </div>
    </form>
  </div>
</div>
